# Configuration API - Exemple
# Copier ce fichier en .env et ajuster les valeurs

# API Configuration
API_TITLE="API Convertisseur PDF RFCV → XML ASYCUDA"
API_VERSION="1.0.0"
API_DEBUG=False

# Server Configuration
API_HOST="0.0.0.0"
API_PORT=8000

# ======================================================================
# SÉCURITÉ - CONFIGURATION CRITIQUE
# ======================================================================

# Authentification API Key
# Générer des clés sécurisées avec: python -c "import secrets; print(secrets.token_urlsafe(32))"
# IMPORTANT: Utiliser des clés longues et aléatoires en production!
# Plusieurs clés peuvent être séparées par des virgules
API_KEYS=""  # OBLIGATOIRE: Ajouter au moins une clé API
API_REQUIRE_AUTHENTICATION=True  # False = API publique (DANGEREUX)

# CORS Configuration
# Par défaut: aucune origine autorisée (plus sécurisé)
# Pour autoriser des domaines spécifiques:
# API_CORS_ORIGINS=["https://votre-domaine.com","https://app.votre-domaine.com"]
# ATTENTION: Ne jamais utiliser ["*"] en production!
API_CORS_ORIGINS=[]
API_CORS_ALLOW_CREDENTIALS=False
API_CORS_ALLOW_METHODS=["GET","POST"]
API_CORS_ALLOW_HEADERS=["Content-Type","X-API-Key"]

# Rate Limiting (protection contre abus)
# API_RATE_LIMIT_ENABLED=True  # Activé par défaut dans config.py
# API_RATE_LIMIT_DEFAULT="60/minute"
# API_RATE_LIMIT_UPLOAD="10/minute"
# API_RATE_LIMIT_BATCH="5/hour"

# ======================================================================
# STORAGE ET FICHIERS
# ======================================================================

# File Storage
API_UPLOAD_DIR="uploads"
API_OUTPUT_DIR="output"
API_MAX_UPLOAD_SIZE=52428800  # 50MB en octets
# Extensions autorisées (ne pas modifier sauf besoin spécifique)
# API_ALLOWED_EXTENSIONS=[".pdf"]

# ======================================================================
# GESTION DES JOBS
# ======================================================================

# Job Management
API_JOB_EXPIRY_HOURS=24  # Durée de conservation des jobs
API_CLEANUP_INTERVAL_HOURS=6  # Fréquence de nettoyage

# ======================================================================
# TRAITEMENT BATCH
# ======================================================================

# Batch Processing
API_DEFAULT_WORKERS=4  # Workers par défaut
API_MAX_WORKERS=8  # Maximum de workers autorisés

# ======================================================================
# LOGGING
# ======================================================================

# Niveau de log: DEBUG, INFO, WARNING, ERROR, CRITICAL
API_LOG_LEVEL=INFO

# Répertoire des fichiers de log
API_LOG_DIR=logs

# Activer/désactiver l'écriture dans un fichier de log (logs/app.log)
API_LOG_TO_FILE=True

# Format des logs: "standard" ou "detailed" (avec module et numéro de ligne)
API_LOG_FORMAT=standard

# Taille max d'un fichier de log avant rotation (en octets, défaut: 10MB)
# API_LOG_MAX_BYTES=10485760

# Nombre de fichiers de backup conservés après rotation
# API_LOG_BACKUP_COUNT=5

# Niveau de log pour uvicorn (debug, info, warning, error, critical)
API_LOG_UVICORN_LEVEL=info

# ======================================================================
# DOCKER (optionnel)
# ======================================================================

DOCKER_IMAGE_TAG=latest

# ======================================================================
# EXEMPLE DE CONFIGURATION POUR DÉVELOPPEMENT
# ======================================================================
# API_DEBUG=True
# API_REQUIRE_AUTHENTICATION=False
# API_CORS_ORIGINS=["http://localhost:3000"]

# ======================================================================
# EXEMPLE DE CONFIGURATION POUR PRODUCTION
# ======================================================================
# API_DEBUG=False
# API_KEYS="votre_cle_api_ultra_securisee_generee_avec_secrets"
# API_REQUIRE_AUTHENTICATION=True
# API_CORS_ORIGINS=["https://votre-domaine-prod.com"]
# API_CORS_ALLOW_CREDENTIALS=False
